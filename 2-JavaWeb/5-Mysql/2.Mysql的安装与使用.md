### Liunx下的安装
#### 1.mysql简介
    MySQL是一个关系型数据库管理系统，由瑞典MySQL AB 公司开发，属于 Oracle 旗下产品。MySQL 是最流行的关系型数据库管理系统之一  
    在 WEB 应用方面，MySQL是最好的 RDBMS (Relational Database Management System，关系数据库管理系统) 应用软件之一。

#### 2.一些文件的路径约定
```
安装文件下载目录：/app
Mysql目录安装位置：/usr/local/mysql
```
#### 3.安装mysql

>1.在[官网](https://dev.mysql.com/downloads/mysql/5.7.html#downloads)中，选择以下版本的mysql下载：

![image](https://github.com/miaozasanynoe/Java-learning/blob/master/public/images/Liunx-mysql-1.png)

>2.使用xftp(windows)或者是filezilla(max)将安装包上传  

>3.解压,重命名，复制，解压目录结构
```
cd app
tar zxf mysql-5.7.29-linux-glibc2.12-x86_64.tar.gz
//解压
mv mysql-5.7.24-linux-glibc2.12-x86_64 mysql
重命名为mysql
cp -r mysql /usr/local/
//复制到usr/local/ 下面
cd usr/local
ll
//查看目录结构
```
>4.添加用户组，专门管理mysql

```
groupadd mysql
// 新建组
useradd -r -g mysql mysql
//新建用户
cd /usr/local/mysql/
//进入mysql根目录
chown -R mysql:mysql ./
//修改拥有者为mysql用户
```
>5.配置mysql服务
```
cp /usr/local/mysql/support-files/mysql.server /etc/init.d/mysql
//mysql/support-files下的mysql.server 复制到 /etc/init.d/下并自定义为mysql
vi /etc/init.d/mysql
//打开配置文件
```
    修改的内容:
```
basedir=/usr/local/mysql
datadir=/usr/local/mysql/data
```
>6.配置mysql的配置文件

    在其他版本的mysql 里面 support-files下有默认的配置文件，而5.7.24这个版本没有，需要自己准备，
    下面提供一份简单基本配置在/etc/ 下新建my.cnf ，有些可能会提示已经存在，因为默认装的数据库配置文
    件也在，直接覆盖就行
```
cd /etc
//进入etc目录
rm -rf my.cnf
//删除my.cnf
vi my.cnf
// 新建my.cnf
```
    编辑的内容:
```
# *** DO NOT EDIT THIS FILE. It's a template which will be copied to the
# *** default location during install, and will be replaced if you
# *** upgrade to a newer version of MySQL.
[client]
port = 3306
default-character-set=utf8

[mysqld]
# 一般配置选项
basedir = /usr/local/mysql
datadir = /usr/local/mysql/data
port = 3306
character-set-server=utf8
default_storage_engine = InnoDB

sql_mode=STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION
```
>7.初始化数据库
```

cd /usr/local/mysql/bin/
//进入mysql/bin目录下
./mysqld --initialize --user=mysql --basedir=/usr/local/mysql --datadir=/usr/local/mysql/data
// 执行初始化
./mysqld: error while loading shared libraries: libnuma.so.1: cannot open shared object file: 
No such file or directory
//遇到错误
yum -y install numactl.x86_64
//执行以下命令
./mysqld --initialize --user=mysql --basedir=/usr/local/mysql --datadir=/usr/local/mysql/data
//再执行初始化
./mysqld: error while loading shared libraries: libaio.so.1: cannot open shared object file: 
No such file or directory
//遇到错误
yum -y install libaio
//执行以下命令
./mysqld --initialize --user=mysql --basedir=/usr/local/mysql --datadir=/usr/local/mysql/data
//执行初始化
```
    tips:执行完毕后会自动生成默认的密码在执行记录中，注意复制出来
>8.启动mysql服务
```
service mysql start
//执行启动命令
```
>9. 登录及远程配置
```
cd mysql/bin
//进入mysql/bin目录下执行
./mysql -uroot -p
//进入mysql
```
    Enter password:输入默认的临时密码
```
set password=password('新密码');
//修改密码
GRANT ALL PRIVILEGES ON *.* TO 'root'@'%' IDENTIFIED BY '访问密码';
//设置远程访问
flush privileges;
//刷新配置
```
>9 开放端口
```
firewall-cmd --zone=public --add-port=3306/tcp --permanent
//开启端口
firewall-cmd --reload
//重载防火墙
```
>10.设置开机启动和环境变量(可以忽略)
```
chkconfig --list
//查看自启服务列表
chkconfig --add mysql
//添加mysql服务到自启服务
chkconfig mysql on
//设置自启
vi /etc/profile
//为了不用在mysql/bin目录下才能连接mysql 将mysql/bin目录设置到环境变量中
```
    修改的内容:
```
# mysql environment
export MYSQL_HOME=/usr/local/mysql
export PATH=$PATH:$MYSQL_HOME/bin
```
```
source /etc/profile
//刷新环境变量
```